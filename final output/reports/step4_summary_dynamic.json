{"meta":{"script":"step4_optimize_allocator.py","script_version":"1.1.0","generated_utc":"2026-02-22T08:59:16.560883+00:00","objective":"robust","start_capital":10000.0,"train_ratio":0.6,"split_month_end_utc":"2022-12-31 00:00:00+00:00","n_overlap_months":91,"spyqqq_monthly_source":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\combo_workspace\\step3_spyqqq\\backtest\\step3_monthly_table.parquet","btceth_monthly_source":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\other-pair\\btc_eth\\step3_out\\backtest\\step3_monthly_table.parquet","max_drawdown_cap":0.18},"selected_candidate":{"name":"ml_lr_lb24_g1_3","config":{"name":"ml_lr_lb24_g1_3","method":"ml_lr","static_w":0.5,"lookback":24,"dd_penalty":0.8,"min_w":0.0,"max_w":1.0,"smoothing":0.25,"max_step":0.25,"gross_base":1.0,"gross_conf_scale":0.3,"max_gross":1.3,"target_vol":0.04,"vol_lb":12,"turn_cost_bps":12.0,"gross_cost_bps":6.0},"score":8566.356123,"robust_pass":true,"metrics":{"full":{"end_equity":15702.204355,"cagr":0.092823,"max_drawdown":0.129085,"calmar":0.719081,"avg_monthly_pnl":93.47876,"median_monthly_pnl":64.384972,"positive_month_rate":0.590164,"n_months":61},"train":{"end_equity":11974.597228,"cagr":0.090348,"max_drawdown":0.079711,"calmar":1.133447,"avg_monthly_pnl":78.983889,"median_monthly_pnl":6.43701,"positive_month_rate":0.52,"n_months":25},"test":{"end_equity":13112.929025,"cagr":0.094544,"max_drawdown":0.063912,"calmar":1.479294,"avg_monthly_pnl":86.470251,"median_monthly_pnl":76.687116,"positive_month_rate":0.638889,"n_months":36},"stress_1_25_avg_monthly_pnl":77.28329,"bootstrap_p10_avg_monthly_pnl":36.724611,"avg_turnover_abs":0.14881,"avg_gross_leverage":1.195519,"avg_weight_spyqqq":0.532931,"weight_std_spyqqq":0.222626,"train_test_calmar_gap_abs":0.345847},"path_file":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step4_out\\robust\\optimization\\ml_lr_lb24_g1_3_path.parquet"},"benchmarks":{"spyqqq":{"end_equity":11571.797512,"cagr":0.029135,"max_drawdown":0.116918,"calmar":0.249191,"avg_monthly_pnl":25.767172,"median_monthly_pnl":0.0,"positive_month_rate":0.491803,"n_months":61},"btceth":{"end_equity":16795.411141,"cagr":0.107388,"max_drawdown":0.190819,"calmar":0.562774,"avg_monthly_pnl":111.400183,"median_monthly_pnl":71.197636,"positive_month_rate":0.557377,"n_months":61},"equal_50_50":{"end_equity":14141.098329,"cagr":0.070541,"max_drawdown":0.113898,"calmar":0.619332,"avg_monthly_pnl":67.886858,"median_monthly_pnl":31.758651,"positive_month_rate":0.590164,"n_months":61},"cross_pair_corr_monthly":0.220455},"outputs":{"step4_plot":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step4_out\\robust\\backtest\\step4_portfolio_curve.png","step4_monthly":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step4_out\\robust\\backtest\\step4_monthly_table.parquet","step4_summary":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step4_out\\robust\\backtest\\step4_summary.json","optimization_report":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step4_out\\robust\\optimization\\step4_optimization_report.json"}}