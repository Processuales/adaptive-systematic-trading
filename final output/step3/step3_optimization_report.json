{"meta":{"script":"step3_optimize_model.py","script_version":"2.5.0","generated_utc":"2026-02-17T18:35:10.547481+00:00","n_candidates":4,"dd_cap":0.12,"min_trades_per_month":6.0,"target_avg_monthly_pnl":105.0,"hard_dd_cap":0.18,"max_negative_fold_rate":0.75,"min_p25_calmar":-7.0,"min_avg_monthly_pnl":80.0,"min_positive_month_rate":0.5,"max_top5_positive_pnl_share":0.5,"max_zero_trade_month_rate":0.22,"min_stress125_avg_monthly_pnl":50.0,"min_stress150_avg_monthly_pnl":20.0,"min_bootstrap_p10_monthly_pnl":20.0,"n_robust_pass":4,"fallback_used":false,"note":"Best candidate re-run into main --out-dir."},"best":{"run_id":3,"name":"ultimate_high_gain_pattern_balanced","config":{"name":"ultimate_high_gain_pattern_balanced","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.5,"drought_p_cut_relax":0.015,"drought_ev_relax":0.00018,"drought_size_boost":0.08,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.25,"portfolio_spy_guard_dd_penalty":1.2,"pattern_aid_enable":true,"pattern_n_clusters":6,"pattern_min_cluster_samples":40,"pattern_prior_strength":120.0,"pattern_consistency_tol":0.004,"pattern_prob_strength":0.55,"pattern_ret_strength":0.65,"pattern_prob_max_abs_delta":0.04,"pattern_ret_max_abs_delta":0.0035},"status":"ok","error":null,"objective_score":19.017566,"robustness":{"pass":true,"failures":[],"snapshot":{"max_drawdown":0.078153,"avg_monthly_pnl":125.67972,"monthly_positive_rate":0.536082,"top5_positive_pnl_share":0.283261,"zero_trade_month_rate":0.134021,"qqq_negative_fold_rate":0.520548,"spy_negative_fold_rate":0.708861,"qqq_p25_test_calmar":-2.359116,"spy_p25_test_calmar":-5.923182,"stress_1.25_avg_monthly_pnl":106.868485,"stress_1.25_max_drawdown":0.08228,"stress_1.50_avg_monthly_pnl":89.604182,"bootstrap_p10_avg_monthly_pnl":66.813192}},"summary_path":"C:\\dev\\Coding\\Trading Bot\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\03_ultimate_high_gain_pattern_balanced\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":22190.932848,"cagr":0.103911,"max_drawdown":0.078153,"calmar":1.329584,"n_days":2946},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":22536.938218,"cagr":0.106031,"max_drawdown":0.080039,"calmar":1.324745,"n_days":2946},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":13442.538743,"cagr":0.037373,"max_drawdown":0.050016,"calmar":0.747204,"n_days":2946},"allocator":{"selected":"static_train_optimized","holdout_split_index":1620,"holdout_start_utc":"2022-05-09 00:00:00+00:00","holdout_score_static":1.124034,"holdout_score_dynamic":1.053924,"qqq_weight_mean":0.971177,"qqq_weight_min":0.958118,"qqq_weight_max":0.985044,"qqq_weight_turnover_abs":0.834697,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.576468,"spy_guard_min":0.29911,"spy_guard_max":0.83764},"avg_monthly_pnl":125.67972,"median_monthly_pnl":38.839503,"avg_monthly_trades":6.731959,"monthly_positive_rate":0.536082,"monthly_negative_rate":0.329897,"top5_positive_pnl_share":0.283261,"zero_trade_month_rate":0.134021,"total_trades":653,"aggressive_trade_rate":0.486983,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":1415.365487,"ret":0.099333,"trades":12.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-1073.53651,"ret":-0.050368,"trades":11.0},"best_day":{"date_utc":"2022-07-29 00:00:00+00:00","pnl":577.155167},"worst_day":{"date_utc":"2025-01-27 00:00:00+00:00","pnl":-786.304633},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":20366.243056,"cagr":0.092225,"max_drawdown":0.08228,"calmar":1.120877,"n_days":2946},"avg_monthly_pnl":106.868485,"median_monthly_pnl":5.042517,"monthly_positive_rate":0.536082},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":18691.605641,"cagr":0.080664,"max_drawdown":0.089059,"calmar":0.905731,"n_days":2946},"avg_monthly_pnl":89.604182,"median_monthly_pnl":2.98336,"monthly_positive_rate":0.505155}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":50.026376,"p10":66.813192,"p50":121.866508,"p90":196.188685,"p95":214.310264,"mean":126.915189},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":38.839503,"p90":72.986005,"p95":81.757893,"mean":33.311231},"monthly_positive_rate":{"p05":0.443299,"p10":0.463918,"p50":0.536082,"p90":0.608247,"p95":0.628866,"mean":0.537165},"end_equity":{"p05":13837.594518,"p10":14933.422517,"p50":21610.017394,"p90":35125.299802,"p95":39391.719568,"mean":23766.288332},"max_drawdown":{"p05":0.053275,"p10":0.055732,"p50":0.078759,"p90":0.129157,"p95":0.146949,"mean":0.087595},"calmar":{"p05":0.331317,"p10":0.454653,"p50":1.251436,"p90":2.6984,"p95":3.351976,"mean":1.467759}}}},"all_runs":[{"run_id":1,"name":"ultimate_high_gain_baseline","config":{"name":"ultimate_high_gain_baseline","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98},"status":"ok","error":null,"objective_score":16.315381,"robustness":{"pass":true,"failures":[],"snapshot":{"max_drawdown":0.082009,"avg_monthly_pnl":113.915355,"monthly_positive_rate":0.515464,"top5_positive_pnl_share":0.274431,"zero_trade_month_rate":0.123711,"qqq_negative_fold_rate":0.534247,"spy_negative_fold_rate":0.721519,"qqq_p25_test_calmar":-4.675275,"spy_p25_test_calmar":-5.86528,"stress_1.25_avg_monthly_pnl":96.126401,"stress_1.25_max_drawdown":0.085557,"stress_1.50_avg_monthly_pnl":79.795808,"bootstrap_p10_avg_monthly_pnl":56.420814}},"summary_path":"C:\\dev\\Coding\\Trading Bot\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\01_ultimate_high_gain_baseline\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":21049.789401,"cagr":0.096706,"max_drawdown":0.082009,"calmar":1.179219,"n_days":2946},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":21324.155943,"cagr":0.098469,"max_drawdown":0.083124,"calmar":1.184608,"n_days":2946},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":13663.505291,"cagr":0.039472,"max_drawdown":0.058055,"calmar":0.67991,"n_days":2946},"allocator":{"selected":"static_train_optimized","holdout_split_index":1620,"holdout_start_utc":"2022-05-09 00:00:00+00:00","holdout_score_static":1.113926,"holdout_score_dynamic":1.030917,"qqq_weight_mean":0.971091,"qqq_weight_min":0.956145,"qqq_weight_max":0.986646,"qqq_weight_turnover_abs":0.831237,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.578188,"spy_guard_min":0.267087,"spy_guard_max":0.8771},"avg_monthly_pnl":113.915355,"median_monthly_pnl":4.118899,"avg_monthly_trades":6.804124,"monthly_positive_rate":0.515464,"monthly_negative_rate":0.360825,"top5_positive_pnl_share":0.274431,"zero_trade_month_rate":0.123711,"total_trades":660,"aggressive_trade_rate":0.493939,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":1287.384133,"ret":0.090575,"trades":12.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-1009.128866,"ret":-0.050362,"trades":11.0},"best_day":{"date_utc":"2022-07-29 00:00:00+00:00","pnl":542.641044},"worst_day":{"date_utc":"2025-01-27 00:00:00+00:00","pnl":-739.221724},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":19324.260881,"cagr":0.085134,"max_drawdown":0.085557,"calmar":0.995063,"n_days":2946},"avg_monthly_pnl":96.126401,"median_monthly_pnl":3.172558,"monthly_positive_rate":0.515464},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":17740.193385,"cagr":0.073685,"max_drawdown":0.089166,"calmar":0.826376,"n_days":2946},"avg_monthly_pnl":79.795808,"median_monthly_pnl":3.007436,"monthly_positive_rate":0.505155}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":39.67374,"p10":56.420814,"p50":110.234767,"p90":181.717794,"p95":198.001114,"mean":114.555323},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":4.118899,"p90":75.983608,"p95":111.40319,"mean":32.285567},"monthly_positive_rate":{"p05":0.42268,"p10":0.443299,"p50":0.515464,"p90":0.587629,"p95":0.608247,"mean":0.515296},"end_equity":{"p05":13232.279871,"p10":14474.099094,"p50":20551.361348,"p90":32660.755369,"p95":36156.808095,"mean":22358.555664},"max_drawdown":{"p05":0.054598,"p10":0.063,"p50":0.084685,"p90":0.137694,"p95":0.161583,"mean":0.093081},"calmar":{"p05":0.272354,"p10":0.395307,"p50":1.089779,"p90":2.368708,"p95":2.956368,"mean":1.296745}}}},{"run_id":2,"name":"ultimate_high_gain_guarded_soft","config":{"name":"ultimate_high_gain_guarded_soft","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.5,"drought_p_cut_relax":0.015,"drought_ev_relax":0.00018,"drought_size_boost":0.08,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.25,"portfolio_spy_guard_dd_penalty":1.2},"status":"ok","error":null,"objective_score":16.320235,"robustness":{"pass":true,"failures":[],"snapshot":{"max_drawdown":0.082009,"avg_monthly_pnl":113.949713,"monthly_positive_rate":0.515464,"top5_positive_pnl_share":0.274381,"zero_trade_month_rate":0.123711,"qqq_negative_fold_rate":0.534247,"spy_negative_fold_rate":0.721519,"qqq_p25_test_calmar":-4.675275,"spy_p25_test_calmar":-5.86528,"stress_1.25_avg_monthly_pnl":96.156243,"stress_1.25_max_drawdown":0.085557,"stress_1.50_avg_monthly_pnl":79.821644,"bootstrap_p10_avg_monthly_pnl":56.424375}},"summary_path":"C:\\dev\\Coding\\Trading Bot\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\02_ultimate_high_gain_guarded_soft\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":21053.122157,"cagr":0.096728,"max_drawdown":0.082009,"calmar":1.179481,"n_days":2946},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":21327.651641,"cagr":0.098492,"max_drawdown":0.083124,"calmar":1.184877,"n_days":2946},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":13663.505291,"cagr":0.039472,"max_drawdown":0.058055,"calmar":0.67991,"n_days":2946},"allocator":{"selected":"static_train_optimized","holdout_split_index":1620,"holdout_start_utc":"2022-05-09 00:00:00+00:00","holdout_score_static":1.1141,"holdout_score_dynamic":1.03101,"qqq_weight_mean":0.971091,"qqq_weight_min":0.956145,"qqq_weight_max":0.986646,"qqq_weight_turnover_abs":0.831234,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.578183,"spy_guard_min":0.267087,"spy_guard_max":0.8771},"avg_monthly_pnl":113.949713,"median_monthly_pnl":4.118899,"avg_monthly_trades":6.804124,"monthly_positive_rate":0.515464,"monthly_negative_rate":0.360825,"top5_positive_pnl_share":0.274381,"zero_trade_month_rate":0.123711,"total_trades":660,"aggressive_trade_rate":0.493939,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":1287.384133,"ret":0.090575,"trades":12.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-1009.288639,"ret":-0.050362,"trades":11.0},"best_day":{"date_utc":"2022-07-29 00:00:00+00:00","pnl":542.641044},"worst_day":{"date_utc":"2025-01-27 00:00:00+00:00","pnl":-739.338763},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":19327.155594,"cagr":0.085155,"max_drawdown":0.085557,"calmar":0.995299,"n_days":2946},"avg_monthly_pnl":96.156243,"median_monthly_pnl":3.172558,"monthly_positive_rate":0.515464},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":17742.699481,"cagr":0.073703,"max_drawdown":0.089166,"calmar":0.826587,"n_days":2946},"avg_monthly_pnl":79.821644,"median_monthly_pnl":3.007436,"monthly_positive_rate":0.505155}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":39.736087,"p10":56.424375,"p50":110.270714,"p90":181.782749,"p95":198.00571,"mean":114.589078},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":4.118899,"p90":75.983608,"p95":111.40319,"mean":32.287001},"monthly_positive_rate":{"p05":0.42268,"p10":0.443299,"p50":0.515464,"p90":0.587629,"p95":0.608247,"mean":0.515296},"end_equity":{"p05":13232.593674,"p10":14478.617827,"p50":20551.361924,"p90":32660.755369,"p95":36167.885377,"mean":22362.035813},"max_drawdown":{"p05":0.054598,"p10":0.063,"p50":0.084685,"p90":0.137694,"p95":0.161583,"mean":0.093078},"calmar":{"p05":0.272547,"p10":0.395516,"p50":1.090326,"p90":2.369103,"p95":2.956384,"mean":1.297032}}}},{"run_id":3,"name":"ultimate_high_gain_pattern_balanced","config":{"name":"ultimate_high_gain_pattern_balanced","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.5,"drought_p_cut_relax":0.015,"drought_ev_relax":0.00018,"drought_size_boost":0.08,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.25,"portfolio_spy_guard_dd_penalty":1.2,"pattern_aid_enable":true,"pattern_n_clusters":6,"pattern_min_cluster_samples":40,"pattern_prior_strength":120.0,"pattern_consistency_tol":0.004,"pattern_prob_strength":0.55,"pattern_ret_strength":0.65,"pattern_prob_max_abs_delta":0.04,"pattern_ret_max_abs_delta":0.0035},"status":"ok","error":null,"objective_score":19.017566,"robustness":{"pass":true,"failures":[],"snapshot":{"max_drawdown":0.078153,"avg_monthly_pnl":125.67972,"monthly_positive_rate":0.536082,"top5_positive_pnl_share":0.283261,"zero_trade_month_rate":0.134021,"qqq_negative_fold_rate":0.520548,"spy_negative_fold_rate":0.708861,"qqq_p25_test_calmar":-2.359116,"spy_p25_test_calmar":-5.923182,"stress_1.25_avg_monthly_pnl":106.868485,"stress_1.25_max_drawdown":0.08228,"stress_1.50_avg_monthly_pnl":89.604182,"bootstrap_p10_avg_monthly_pnl":66.813192}},"summary_path":"C:\\dev\\Coding\\Trading Bot\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\03_ultimate_high_gain_pattern_balanced\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":22190.932848,"cagr":0.103911,"max_drawdown":0.078153,"calmar":1.329584,"n_days":2946},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":22536.938218,"cagr":0.106031,"max_drawdown":0.080039,"calmar":1.324745,"n_days":2946},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":13442.538743,"cagr":0.037373,"max_drawdown":0.050016,"calmar":0.747204,"n_days":2946},"allocator":{"selected":"static_train_optimized","holdout_split_index":1620,"holdout_start_utc":"2022-05-09 00:00:00+00:00","holdout_score_static":1.124034,"holdout_score_dynamic":1.053924,"qqq_weight_mean":0.971177,"qqq_weight_min":0.958118,"qqq_weight_max":0.985044,"qqq_weight_turnover_abs":0.834697,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.576468,"spy_guard_min":0.29911,"spy_guard_max":0.83764},"avg_monthly_pnl":125.67972,"median_monthly_pnl":38.839503,"avg_monthly_trades":6.731959,"monthly_positive_rate":0.536082,"monthly_negative_rate":0.329897,"top5_positive_pnl_share":0.283261,"zero_trade_month_rate":0.134021,"total_trades":653,"aggressive_trade_rate":0.486983,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":1415.365487,"ret":0.099333,"trades":12.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-1073.53651,"ret":-0.050368,"trades":11.0},"best_day":{"date_utc":"2022-07-29 00:00:00+00:00","pnl":577.155167},"worst_day":{"date_utc":"2025-01-27 00:00:00+00:00","pnl":-786.304633},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":20366.243056,"cagr":0.092225,"max_drawdown":0.08228,"calmar":1.120877,"n_days":2946},"avg_monthly_pnl":106.868485,"median_monthly_pnl":5.042517,"monthly_positive_rate":0.536082},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-24 00:00:00+00:00","end_equity":18691.605641,"cagr":0.080664,"max_drawdown":0.089059,"calmar":0.905731,"n_days":2946},"avg_monthly_pnl":89.604182,"median_monthly_pnl":2.98336,"monthly_positive_rate":0.505155}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":50.026376,"p10":66.813192,"p50":121.866508,"p90":196.188685,"p95":214.310264,"mean":126.915189},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":38.839503,"p90":72.986005,"p95":81.757893,"mean":33.311231},"monthly_positive_rate":{"p05":0.443299,"p10":0.463918,"p50":0.536082,"p90":0.608247,"p95":0.628866,"mean":0.537165},"end_equity":{"p05":13837.594518,"p10":14933.422517,"p50":21610.017394,"p90":35125.299802,"p95":39391.719568,"mean":23766.288332},"max_drawdown":{"p05":0.053275,"p10":0.055732,"p50":0.078759,"p90":0.129157,"p95":0.146949,"mean":0.087595},"calmar":{"p05":0.331317,"p10":0.454653,"p50":1.251436,"p90":2.6984,"p95":3.351976,"mean":1.467759}}}},{"run_id":4,"name":"ultimate_high_gain_guarded_fast_retune","config":{"name":"ultimate_high_gain_guarded_fast_retune","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.52,"policy_profile":"growth","max_aggressive_size":1.4,"portfolio_allocator":"dynamic_regime","retune_every_folds":1,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.35,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.8,"drought_p_cut_relax":0.018,"drought_ev_relax":0.00022,"drought_size_boost":0.1,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.2,"portfolio_spy_guard_dd_penalty":1.2},"status":"ok","error":null,"objective_score":15.31067,"robustness":{"pass":true,"failures":[],"snapshot":{"max_drawdown":0.097038,"avg_monthly_pnl":110.546866,"monthly_positive_rate":0.505155,"top5_positive_pnl_share":0.271839,"zero_trade_month_rate":0.175258,"qqq_negative_fold_rate":0.521739,"spy_negative_fold_rate":0.723684,"qqq_p25_test_calmar":-4.497578,"spy_p25_test_calmar":-6.153502,"stress_1.25_avg_monthly_pnl":93.804958,"stress_1.25_max_drawdown":0.104991,"stress_1.50_avg_monthly_pnl":78.375156,"bootstrap_p10_avg_monthly_pnl":51.076268}},"summary_path":"C:\\dev\\Coding\\Trading Bot\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\04_ultimate_high_gain_guarded_fast_retune\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-31 00:00:00+00:00","end_equity":20723.04603,"cagr":0.094346,"max_drawdown":0.097038,"calmar":0.972262,"n_days":2953},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-31 00:00:00+00:00","end_equity":20995.764835,"cagr":0.096118,"max_drawdown":0.097833,"calmar":0.982464,"n_days":2953},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-31 00:00:00+00:00","end_equity":12323.435662,"cagr":0.026186,"max_drawdown":0.084305,"calmar":0.310615,"n_days":2953},"allocator":{"selected":"static_train_optimized","holdout_split_index":1624,"holdout_start_utc":"2022-05-13 00:00:00+00:00","holdout_score_static":1.075323,"holdout_score_dynamic":1.018443,"qqq_weight_mean":0.973472,"qqq_weight_min":0.956657,"qqq_weight_max":0.986513,"qqq_weight_turnover_abs":0.73519,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.530567,"spy_guard_min":0.269745,"spy_guard_max":0.86687},"avg_monthly_pnl":110.546866,"median_monthly_pnl":0.555486,"avg_monthly_trades":6.247423,"monthly_positive_rate":0.505155,"monthly_negative_rate":0.319588,"top5_positive_pnl_share":0.271839,"zero_trade_month_rate":0.175258,"total_trades":606,"aggressive_trade_rate":0.488449,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":1121.094839,"ret":0.080474,"trades":12.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-1000.23802,"ret":-0.051378,"trades":9.0},"best_day":{"date_utc":"2025-05-01 00:00:00+00:00","pnl":520.842907},"worst_day":{"date_utc":"2025-01-27 00:00:00+00:00","pnl":-730.827293},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-31 00:00:00+00:00","end_equity":19099.080901,"cagr":0.083352,"max_drawdown":0.104991,"calmar":0.793894,"n_days":2953},"avg_monthly_pnl":93.804958,"median_monthly_pnl":0.494162,"monthly_positive_rate":0.505155},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-31 00:00:00+00:00","end_equity":17602.390171,"cagr":0.072468,"max_drawdown":0.112875,"calmar":0.642025,"n_days":2953},"avg_monthly_pnl":78.375156,"median_monthly_pnl":0.387676,"monthly_positive_rate":0.505155}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":34.466155,"p10":51.076268,"p50":107.679461,"p90":174.313957,"p95":192.700664,"mean":110.307758},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":0.555486,"p90":106.896054,"p95":127.175242,"mean":29.62593},"monthly_positive_rate":{"p05":0.371134,"p10":0.402062,"p50":0.505155,"p90":0.608247,"p95":0.628866,"mean":0.504485},"end_equity":{"p05":12814.038669,"p10":14113.844677,"p50":20445.02831,"p90":31630.75746,"p95":34472.611222,"mean":21828.04417},"max_drawdown":{"p05":0.056386,"p10":0.062644,"p50":0.093526,"p90":0.14915,"p95":0.173321,"mean":0.100919},"calmar":{"p05":0.219352,"p10":0.331423,"p50":0.962666,"p90":2.15187,"p95":2.744519,"mean":1.160734}}}}]}