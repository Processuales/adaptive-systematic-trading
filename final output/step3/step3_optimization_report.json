{"meta":{"script":"step3_optimize_model.py","script_version":"2.6.0","generated_utc":"2026-02-25T00:28:13.771726+00:00","n_candidates":6,"dd_cap":0.12,"min_trades_per_month":6.0,"target_avg_monthly_pnl":105.0,"hard_dd_cap":0.18,"max_negative_fold_rate":0.75,"min_p25_calmar":-7.0,"min_avg_monthly_pnl":80.0,"min_positive_month_rate":0.5,"max_top5_positive_pnl_share":0.5,"max_zero_trade_month_rate":0.22,"min_stress125_avg_monthly_pnl":50.0,"min_stress150_avg_monthly_pnl":20.0,"min_bootstrap_p10_monthly_pnl":20.0,"n_robust_pass":0,"fallback_used":true,"crypto_mode":false,"note":"Best candidate re-run into main --out-dir."},"best":{"run_id":2,"name":"ultimate_high_gain_guarded_soft","config":{"name":"ultimate_high_gain_guarded_soft","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.5,"drought_p_cut_relax":0.015,"drought_ev_relax":0.00018,"drought_size_boost":0.08,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.25,"portfolio_spy_guard_dd_penalty":1.2},"status":"ok","error":null,"objective_score":9.425812,"robustness":{"pass":false,"failures":["spy p25_calmar -7.6691 < -7.0000","avg_monthly_pnl 74.18 < 80.00"],"snapshot":{"max_drawdown":0.120407,"avg_monthly_pnl":74.180121,"monthly_positive_rate":0.556701,"top5_positive_pnl_share":0.267095,"zero_trade_month_rate":0.113402,"qqq_negative_fold_rate":0.506329,"spy_negative_fold_rate":0.743902,"qqq_p25_test_calmar":-4.747485,"spy_p25_test_calmar":-7.669097,"stress_1.25_avg_monthly_pnl":59.106127,"stress_1.25_max_drawdown":0.126651,"stress_1.50_avg_monthly_pnl":45.314021,"bootstrap_p10_avg_monthly_pnl":30.867095}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\02_ultimate_high_gain_guarded_soft\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":17195.471708,"cagr":0.069418,"max_drawdown":0.120407,"calmar":0.576529,"n_days":2951},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":17312.004355,"cagr":0.070313,"max_drawdown":0.122298,"calmar":0.574927,"n_days":2951},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":13169.130134,"cagr":0.034672,"max_drawdown":0.075734,"calmar":0.457813,"n_days":2951},"allocator":{"selected":"static_train_optimized","holdout_split_index":1623,"holdout_start_utc":"2022-05-12 00:00:00+00:00","holdout_score_static":1.039511,"holdout_score_dynamic":0.969571,"qqq_weight_mean":0.972735,"qqq_weight_min":0.957716,"qqq_weight_max":0.987112,"qqq_weight_turnover_abs":0.909701,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.545297,"spy_guard_min":0.257769,"spy_guard_max":0.845686},"avg_monthly_pnl":74.180121,"median_monthly_pnl":37.42478,"avg_monthly_trades":7.134021,"monthly_positive_rate":0.556701,"monthly_negative_rate":0.329897,"top5_positive_pnl_share":0.267095,"zero_trade_month_rate":0.113402,"total_trades":692,"aggressive_trade_rate":0.547688,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":968.733261,"ret":0.074326,"trades":9.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-731.533038,"ret":-0.043362,"trades":6.0},"best_day":{"date_utc":"2021-03-16 00:00:00+00:00","pnl":552.720598},"worst_day":{"date_utc":"2022-07-13 00:00:00+00:00","pnl":-534.729421},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":15733.294319,"cagr":0.057716,"max_drawdown":0.126651,"calmar":0.455707,"n_days":2951},"avg_monthly_pnl":59.106127,"median_monthly_pnl":24.126062,"monthly_positive_rate":0.556701},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":14395.460048,"cagr":0.046142,"max_drawdown":0.132851,"calmar":0.347318,"n_days":2951},"avg_monthly_pnl":45.314021,"median_monthly_pnl":4.95895,"monthly_positive_rate":0.546392}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":18.542299,"p10":30.867095,"p50":72.897264,"p90":122.899489,"p95":134.30323,"mean":75.043255},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":37.42478,"p90":78.429414,"p95":96.978047,"mean":37.155984},"monthly_positive_rate":{"p05":0.463918,"p10":0.484536,"p50":0.556701,"p90":0.628866,"p95":0.649485,"mean":0.558466},"end_equity":{"p05":11601.828643,"p10":12693.845964,"p50":17015.520809,"p90":24560.239713,"p95":26569.405848,"mean":17913.904141},"max_drawdown":{"p05":0.047505,"p10":0.053987,"p50":0.088016,"p90":0.147914,"p95":0.170536,"mean":0.096058},"calmar":{"p05":0.128165,"p10":0.226389,"p50":0.744398,"p90":1.862472,"p95":2.207393,"mean":0.94406}}}},"all_runs":[{"run_id":1,"name":"ultimate_high_gain_baseline","config":{"name":"ultimate_high_gain_baseline","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98},"status":"ok","error":null,"objective_score":9.340137,"robustness":{"pass":false,"failures":["spy p25_calmar -7.6691 < -7.0000","avg_monthly_pnl 73.66 < 80.00"],"snapshot":{"max_drawdown":0.120407,"avg_monthly_pnl":73.658755,"monthly_positive_rate":0.556701,"top5_positive_pnl_share":0.267097,"zero_trade_month_rate":0.113402,"qqq_negative_fold_rate":0.506329,"spy_negative_fold_rate":0.743902,"qqq_p25_test_calmar":-4.747485,"spy_p25_test_calmar":-7.669097,"stress_1.25_avg_monthly_pnl":58.654836,"stress_1.25_max_drawdown":0.126651,"stress_1.50_avg_monthly_pnl":44.924661,"bootstrap_p10_avg_monthly_pnl":30.517977}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\01_ultimate_high_gain_baseline\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":17144.899246,"cagr":0.069028,"max_drawdown":0.120407,"calmar":0.573291,"n_days":2951},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":17259.922652,"cagr":0.069913,"max_drawdown":0.122298,"calmar":0.571663,"n_days":2951},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":13169.130134,"cagr":0.034672,"max_drawdown":0.075734,"calmar":0.457813,"n_days":2951},"allocator":{"selected":"static_train_optimized","holdout_split_index":1623,"holdout_start_utc":"2022-05-12 00:00:00+00:00","holdout_score_static":1.039327,"holdout_score_dynamic":0.969155,"qqq_weight_mean":0.972729,"qqq_weight_min":0.957716,"qqq_weight_max":0.987112,"qqq_weight_turnover_abs":0.909126,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.545423,"spy_guard_min":0.257769,"spy_guard_max":0.845686},"avg_monthly_pnl":73.658755,"median_monthly_pnl":37.32138,"avg_monthly_trades":7.123711,"monthly_positive_rate":0.556701,"monthly_negative_rate":0.329897,"top5_positive_pnl_share":0.267097,"zero_trade_month_rate":0.113402,"total_trades":691,"aggressive_trade_rate":0.54848,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":966.05676,"ret":0.074326,"trades":9.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-729.381825,"ret":-0.043362,"trades":6.0},"best_day":{"date_utc":"2021-03-16 00:00:00+00:00","pnl":551.193494},"worst_day":{"date_utc":"2022-07-13 00:00:00+00:00","pnl":-533.252025},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":15689.519125,"cagr":0.057351,"max_drawdown":0.126651,"calmar":0.452826,"n_days":2951},"avg_monthly_pnl":58.654836,"median_monthly_pnl":24.062824,"monthly_positive_rate":0.556701},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":14357.692141,"cagr":0.045801,"max_drawdown":0.132851,"calmar":0.344758,"n_days":2951},"avg_monthly_pnl":44.924661,"median_monthly_pnl":4.955109,"monthly_positive_rate":0.546392}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":17.852828,"p10":30.517977,"p50":72.45549,"p90":122.156778,"p95":133.625132,"mean":74.517953},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":37.32138,"p90":78.198777,"p95":96.710108,"mean":37.039149},"monthly_positive_rate":{"p05":0.463918,"p10":0.484536,"p50":0.556701,"p90":0.628866,"p95":0.649485,"mean":0.558466},"end_equity":{"p05":11598.229832,"p10":12643.398529,"p50":16967.663781,"p90":24527.137249,"p95":26429.505829,"mean":17862.846627},"max_drawdown":{"p05":0.047505,"p10":0.054011,"p50":0.088611,"p90":0.149302,"p95":0.172921,"mean":0.096911},"calmar":{"p05":0.122844,"p10":0.221182,"p50":0.737979,"p90":1.825933,"p95":2.197771,"mean":0.931297}}}},{"run_id":2,"name":"ultimate_high_gain_guarded_soft","config":{"name":"ultimate_high_gain_guarded_soft","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.5,"drought_p_cut_relax":0.015,"drought_ev_relax":0.00018,"drought_size_boost":0.08,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.25,"portfolio_spy_guard_dd_penalty":1.2},"status":"ok","error":null,"objective_score":9.425812,"robustness":{"pass":false,"failures":["spy p25_calmar -7.6691 < -7.0000","avg_monthly_pnl 74.18 < 80.00"],"snapshot":{"max_drawdown":0.120407,"avg_monthly_pnl":74.180121,"monthly_positive_rate":0.556701,"top5_positive_pnl_share":0.267095,"zero_trade_month_rate":0.113402,"qqq_negative_fold_rate":0.506329,"spy_negative_fold_rate":0.743902,"qqq_p25_test_calmar":-4.747485,"spy_p25_test_calmar":-7.669097,"stress_1.25_avg_monthly_pnl":59.106127,"stress_1.25_max_drawdown":0.126651,"stress_1.50_avg_monthly_pnl":45.314021,"bootstrap_p10_avg_monthly_pnl":30.867095}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\02_ultimate_high_gain_guarded_soft\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":17195.471708,"cagr":0.069418,"max_drawdown":0.120407,"calmar":0.576529,"n_days":2951},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":17312.004355,"cagr":0.070313,"max_drawdown":0.122298,"calmar":0.574927,"n_days":2951},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":13169.130134,"cagr":0.034672,"max_drawdown":0.075734,"calmar":0.457813,"n_days":2951},"allocator":{"selected":"static_train_optimized","holdout_split_index":1623,"holdout_start_utc":"2022-05-12 00:00:00+00:00","holdout_score_static":1.039511,"holdout_score_dynamic":0.969571,"qqq_weight_mean":0.972735,"qqq_weight_min":0.957716,"qqq_weight_max":0.987112,"qqq_weight_turnover_abs":0.909701,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.545297,"spy_guard_min":0.257769,"spy_guard_max":0.845686},"avg_monthly_pnl":74.180121,"median_monthly_pnl":37.42478,"avg_monthly_trades":7.134021,"monthly_positive_rate":0.556701,"monthly_negative_rate":0.329897,"top5_positive_pnl_share":0.267095,"zero_trade_month_rate":0.113402,"total_trades":692,"aggressive_trade_rate":0.547688,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":968.733261,"ret":0.074326,"trades":9.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-731.533038,"ret":-0.043362,"trades":6.0},"best_day":{"date_utc":"2021-03-16 00:00:00+00:00","pnl":552.720598},"worst_day":{"date_utc":"2022-07-13 00:00:00+00:00","pnl":-534.729421},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":15733.294319,"cagr":0.057716,"max_drawdown":0.126651,"calmar":0.455707,"n_days":2951},"avg_monthly_pnl":59.106127,"median_monthly_pnl":24.126062,"monthly_positive_rate":0.556701},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":14395.460048,"cagr":0.046142,"max_drawdown":0.132851,"calmar":0.347318,"n_days":2951},"avg_monthly_pnl":45.314021,"median_monthly_pnl":4.95895,"monthly_positive_rate":0.546392}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":18.542299,"p10":30.867095,"p50":72.897264,"p90":122.899489,"p95":134.30323,"mean":75.043255},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":37.42478,"p90":78.429414,"p95":96.978047,"mean":37.155984},"monthly_positive_rate":{"p05":0.463918,"p10":0.484536,"p50":0.556701,"p90":0.628866,"p95":0.649485,"mean":0.558466},"end_equity":{"p05":11601.828643,"p10":12693.845964,"p50":17015.520809,"p90":24560.239713,"p95":26569.405848,"mean":17913.904141},"max_drawdown":{"p05":0.047505,"p10":0.053987,"p50":0.088016,"p90":0.147914,"p95":0.170536,"mean":0.096058},"calmar":{"p05":0.128165,"p10":0.226389,"p50":0.744398,"p90":1.862472,"p95":2.207393,"mean":0.94406}}}},{"run_id":3,"name":"ultimate_high_gain_pattern_balanced","config":{"name":"ultimate_high_gain_pattern_balanced","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.55,"policy_profile":"growth","max_aggressive_size":1.35,"portfolio_allocator":"dynamic_regime","retune_every_folds":2,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.25,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.5,"drought_p_cut_relax":0.015,"drought_ev_relax":0.00018,"drought_size_boost":0.08,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.25,"portfolio_spy_guard_dd_penalty":1.2,"pattern_aid_enable":true,"pattern_n_clusters":6,"pattern_min_cluster_samples":40,"pattern_prior_strength":120.0,"pattern_consistency_tol":0.004,"pattern_prob_strength":0.55,"pattern_ret_strength":0.65,"pattern_prob_max_abs_delta":0.04,"pattern_ret_max_abs_delta":0.0035},"status":"ok","error":null,"objective_score":8.498053,"robustness":{"pass":false,"failures":["spy p25_calmar -8.3728 < -7.0000","avg_monthly_pnl 70.38 < 80.00"],"snapshot":{"max_drawdown":0.120433,"avg_monthly_pnl":70.383058,"monthly_positive_rate":0.56701,"top5_positive_pnl_share":0.271129,"zero_trade_month_rate":0.113402,"qqq_negative_fold_rate":0.544304,"spy_negative_fold_rate":0.743902,"qqq_p25_test_calmar":-6.086397,"spy_p25_test_calmar":-8.372782,"stress_1.25_avg_monthly_pnl":55.887344,"stress_1.25_max_drawdown":0.126678,"stress_1.50_avg_monthly_pnl":42.602999,"bootstrap_p10_avg_monthly_pnl":27.124451}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\03_ultimate_high_gain_pattern_balanced\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":16827.156651,"cagr":0.066555,"max_drawdown":0.120433,"calmar":0.55263,"n_days":2951},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":16942.318984,"cagr":0.067456,"max_drawdown":0.122321,"calmar":0.551468,"n_days":2951},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":12929.194159,"cagr":0.032319,"max_drawdown":0.075749,"calmar":0.426666,"n_days":2951},"allocator":{"selected":"static_train_optimized","holdout_split_index":1623,"holdout_start_utc":"2022-05-12 00:00:00+00:00","holdout_score_static":1.01485,"holdout_score_dynamic":0.966883,"qqq_weight_mean":0.972754,"qqq_weight_min":0.957715,"qqq_weight_max":0.987112,"qqq_weight_turnover_abs":0.909193,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.544928,"spy_guard_min":0.257769,"spy_guard_max":0.845698},"avg_monthly_pnl":70.383058,"median_monthly_pnl":37.416403,"avg_monthly_trades":7.103093,"monthly_positive_rate":0.56701,"monthly_negative_rate":0.319588,"top5_positive_pnl_share":0.271129,"zero_trade_month_rate":0.113402,"total_trades":689,"aggressive_trade_rate":0.538462,"best_month":{"month_end":"2020-07-31 00:00:00+00:00","pnl":968.457591,"ret":0.074325,"trades":9.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-720.472632,"ret":-0.043665,"trades":5.0},"best_day":{"date_utc":"2021-03-16 00:00:00+00:00","pnl":552.331841},"worst_day":{"date_utc":"2022-07-13 00:00:00+00:00","pnl":-536.236502},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":15421.072387,"cagr":0.055094,"max_drawdown":0.126678,"calmar":0.434912,"n_days":2951},"avg_monthly_pnl":55.887344,"median_monthly_pnl":24.117388,"monthly_positive_rate":0.56701},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":14132.49092,"cagr":0.043756,"max_drawdown":0.13288,"calmar":0.329293,"n_days":2951},"avg_monthly_pnl":42.602999,"median_monthly_pnl":9.468539,"monthly_positive_rate":0.556701}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":14.660422,"p10":27.124451,"p50":68.631747,"p90":118.621449,"p95":129.906779,"mean":71.326978},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":37.416403,"p90":68.630818,"p95":86.087331,"mean":35.095875},"monthly_positive_rate":{"p05":0.474227,"p10":0.494845,"p50":0.56701,"p90":0.639175,"p95":0.659794,"mean":0.56866},"end_equity":{"p05":11318.753561,"p10":12348.250869,"p50":16661.606572,"p90":24049.731024,"p95":25797.165397,"mean":17535.868999},"max_drawdown":{"p05":0.046925,"p10":0.055022,"p50":0.08906,"p90":0.152294,"p95":0.17216,"mean":0.097427},"calmar":{"p05":0.104911,"p10":0.205236,"p50":0.709142,"p90":1.819907,"p95":2.170944,"mean":0.897756}}}},{"run_id":4,"name":"ultimate_high_gain_guarded_fast_retune","config":{"name":"ultimate_high_gain_guarded_fast_retune","train_lookback_days":1460,"embargo_days":10,"min_train_events":220,"min_val_events":45,"min_test_events":6,"mix_struct_weight":0.52,"policy_profile":"growth","max_aggressive_size":1.4,"portfolio_allocator":"dynamic_regime","retune_every_folds":1,"portfolio_objective":"end_equity","portfolio_train_ratio":0.55,"portfolio_lookback_days":504,"portfolio_weight_smoothing":0.15,"portfolio_min_weight":0.35,"portfolio_max_weight":0.98,"spy_drift_kill_switch":"soft","spy_drift_feature_z_cap":1.25,"drought_relief_enable":true,"drought_relief_symbol":"QQQ","drought_target_trades_per_month":5.8,"drought_p_cut_relax":0.018,"drought_ev_relax":0.00022,"drought_size_boost":0.1,"portfolio_spy_guard_lookback_days":63,"portfolio_spy_guard_drift_lookback_days":42,"portfolio_spy_guard_min_mult":0.2,"portfolio_spy_guard_dd_penalty":1.2},"status":"ok","error":null,"objective_score":8.366824,"robustness":{"pass":false,"failures":["avg_monthly_pnl 65.82 < 80.00"],"snapshot":{"max_drawdown":0.103282,"avg_monthly_pnl":65.823248,"monthly_positive_rate":0.546392,"top5_positive_pnl_share":0.258709,"zero_trade_month_rate":0.103093,"qqq_negative_fold_rate":0.556962,"spy_negative_fold_rate":0.646341,"qqq_p25_test_calmar":-4.120805,"spy_p25_test_calmar":-6.510556,"stress_1.25_avg_monthly_pnl":51.079176,"stress_1.25_max_drawdown":0.109464,"stress_1.50_avg_monthly_pnl":37.622174,"bootstrap_p10_avg_monthly_pnl":29.11031}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\04_ultimate_high_gain_guarded_fast_retune\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":16384.855065,"cagr":0.063043,"max_drawdown":0.103282,"calmar":0.610397,"n_days":2951},"qqq_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":16513.925581,"cagr":0.064076,"max_drawdown":0.103757,"calmar":0.617562,"n_days":2951},"spy_standalone_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":12649.403195,"cagr":0.029527,"max_drawdown":0.104469,"calmar":0.282637,"n_days":2951},"allocator":{"selected":"static_train_optimized","holdout_split_index":1623,"holdout_start_utc":"2022-05-12 00:00:00+00:00","holdout_score_static":1.070436,"holdout_score_dynamic":1.019467,"qqq_weight_mean":0.969611,"qqq_weight_min":0.957823,"qqq_weight_max":0.986218,"qqq_weight_turnover_abs":0.910513,"spy_weight_mean_pre_guard":0.05,"spy_guard_mean":0.607781,"spy_guard_min":0.275646,"spy_guard_max":0.843534},"avg_monthly_pnl":65.823248,"median_monthly_pnl":20.308413,"avg_monthly_trades":7.670103,"monthly_positive_rate":0.546392,"monthly_negative_rate":0.350515,"top5_positive_pnl_share":0.258709,"zero_trade_month_rate":0.103093,"total_trades":744,"aggressive_trade_rate":0.489247,"best_month":{"month_end":"2020-05-31 00:00:00+00:00","pnl":634.87449,"ret":0.05588,"trades":23.0},"worst_month":{"month_end":"2025-01-31 00:00:00+00:00","pnl":-702.822801,"ret":-0.04361,"trades":10.0},"best_day":{"date_utc":"2020-04-07 00:00:00+00:00","pnl":385.626221},"worst_day":{"date_utc":"2025-01-27 00:00:00+00:00","pnl":-612.03768},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":14954.680095,"cagr":0.05109,"max_drawdown":0.109464,"calmar":0.466725,"n_days":2951},"avg_monthly_pnl":51.079176,"median_monthly_pnl":3.974305,"monthly_positive_rate":0.546392},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-12-01 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":13649.350835,"cagr":0.039271,"max_drawdown":0.115603,"calmar":0.339702,"n_days":2951},"avg_monthly_pnl":37.622174,"median_monthly_pnl":2.096071,"monthly_positive_rate":0.525773}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":18.913982,"p10":29.11031,"p50":64.67673,"p90":108.538304,"p95":118.954216,"mean":66.374112},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":20.308413,"p90":44.672544,"p95":47.484342,"mean":18.713457},"monthly_positive_rate":{"p05":0.474227,"p10":0.484536,"p50":0.546392,"p90":0.598969,"p95":0.618557,"mean":0.547165},"end_equity":{"p05":11557.01907,"p10":12398.946323,"p50":16274.616305,"p90":22475.865674,"p95":24689.516359,"mean":16937.161056},"max_drawdown":{"p05":0.048045,"p10":0.052018,"p50":0.08187,"p90":0.135087,"p95":0.15688,"mean":0.088294},"calmar":{"p05":0.130478,"p10":0.231792,"p50":0.760098,"p90":1.822266,"p95":2.096498,"mean":0.90281}}}},{"run_id":5,"name":"growth_equal_split_baseline","config":{"name":"growth_equal_split_baseline","train_lookback_days":730,"embargo_days":7,"min_train_events":170,"min_val_events":30,"min_test_events":5,"mix_struct_weight":0.6,"policy_profile":"growth","max_aggressive_size":1.2,"portfolio_allocator":"equal_split","retune_every_folds":3,"portfolio_objective":"calmar","portfolio_no_spy_guard":true,"spy_drift_kill_switch":"none","drought_relief_enable":false},"status":"ok","error":null,"objective_score":3.24921,"robustness":{"pass":false,"failures":["spy negative_fold_rate 0.7561 > 0.7500","spy p25_calmar -10.3232 < -7.0000","avg_monthly_pnl 46.35 < 80.00","stress1.25 avg_monthly_pnl 35.10 < 50.00","bootstrap avg_monthly_pnl p10 5.33 < 20.00"],"snapshot":{"max_drawdown":0.148359,"avg_monthly_pnl":46.350368,"monthly_positive_rate":0.55102,"top5_positive_pnl_share":0.394508,"zero_trade_month_rate":0.112245,"qqq_negative_fold_rate":0.589744,"spy_negative_fold_rate":0.756098,"qqq_p25_test_calmar":-4.332744,"spy_p25_test_calmar":-10.323193,"stress_1.25_avg_monthly_pnl":35.100208,"stress_1.25_max_drawdown":0.165521,"stress_1.50_avg_monthly_pnl":24.703802,"bootstrap_p10_avg_monthly_pnl":5.332666}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\05_growth_equal_split_baseline\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-09 00:00:00+00:00","end_equity":14542.336055,"cagr":0.04731,"max_drawdown":0.148359,"calmar":0.318886,"n_days":2960},"qqq_standalone_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-09 00:00:00+00:00","end_equity":18149.947847,"cagr":0.076353,"max_drawdown":0.146686,"calmar":0.520521,"n_days":2960},"spy_standalone_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-09 00:00:00+00:00","end_equity":11467.734456,"cagr":0.017049,"max_drawdown":0.192782,"calmar":0.088435,"n_days":2960},"allocator":{"selected":"equal_split","holdout_split_index":1776,"holdout_start_utc":"2022-09-13 00:00:00+00:00","holdout_score_static":null,"holdout_score_dynamic":null,"qqq_weight_mean":0.5,"qqq_weight_min":0.5,"qqq_weight_max":0.5,"qqq_weight_turnover_abs":0.0,"spy_weight_mean_pre_guard":0.5,"spy_guard_mean":1.0,"spy_guard_min":1.0,"spy_guard_max":1.0},"avg_monthly_pnl":46.350368,"median_monthly_pnl":18.100596,"avg_monthly_trades":7.836735,"monthly_positive_rate":0.55102,"monthly_negative_rate":0.336735,"top5_positive_pnl_share":0.394508,"zero_trade_month_rate":0.112245,"total_trades":768,"aggressive_trade_rate":0.516927,"best_month":{"month_end":"2020-04-30 00:00:00+00:00","pnl":1349.531913,"ret":0.116854,"trades":27.0},"worst_month":{"month_end":"2022-10-31 00:00:00+00:00","pnl":-644.822188,"ret":-0.043337,"trades":14.0},"best_day":{"date_utc":"2020-04-07 00:00:00+00:00","pnl":492.598795},"worst_day":{"date_utc":"2022-07-13 00:00:00+00:00","pnl":-402.562411},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-09 00:00:00+00:00","end_equity":13439.820384,"cagr":0.037167,"max_drawdown":0.165521,"calmar":0.224543,"n_days":2960},"avg_monthly_pnl":35.100208,"median_monthly_pnl":11.784648,"monthly_positive_rate":0.530612},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-09 00:00:00+00:00","end_equity":12420.972602,"cagr":0.027123,"max_drawdown":0.187035,"calmar":0.145014,"n_days":2960},"avg_monthly_pnl":24.703802,"median_monthly_pnl":8.052652,"monthly_positive_rate":0.520408}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":-2.278343,"p10":5.332666,"p50":46.135775,"p90":89.900202,"p95":103.523484,"mean":47.611069},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":18.100596,"p90":69.772761,"p95":77.481804,"mean":26.081465},"monthly_positive_rate":{"p05":0.438776,"p10":0.469388,"p50":0.55102,"p90":0.632653,"p95":0.663265,"mean":0.55125},"end_equity":{"p05":10146.383048,"p10":10757.679156,"p50":14487.392676,"p90":20228.163578,"p95":22567.937431,"mean":15183.013358},"max_drawdown":{"p05":0.038331,"p10":0.042588,"p50":0.094293,"p90":0.160221,"p95":0.185377,"mean":0.098545},"calmar":{"p05":0.013044,"p10":0.067872,"p50":0.531067,"p90":1.672445,"p95":2.197222,"mean":0.734792}}}},{"run_id":6,"name":"balanced_equal_split_baseline","config":{"name":"balanced_equal_split_baseline","train_lookback_days":1095,"embargo_days":7,"min_train_events":180,"min_val_events":35,"min_test_events":5,"mix_struct_weight":0.65,"policy_profile":"balanced","max_aggressive_size":1.1,"portfolio_allocator":"equal_split","retune_every_folds":4,"portfolio_objective":"calmar","portfolio_no_spy_guard":true,"spy_drift_kill_switch":"none","drought_relief_enable":false},"status":"ok","error":null,"objective_score":3.652374,"robustness":{"pass":false,"failures":["spy negative_fold_rate 0.7857 > 0.7500","spy p25_calmar -7.5754 < -7.0000","avg_monthly_pnl 43.33 < 80.00","stress1.25 avg_monthly_pnl 35.86 < 50.00","bootstrap avg_monthly_pnl p10 15.26 < 20.00"],"snapshot":{"max_drawdown":0.098139,"avg_monthly_pnl":43.325326,"monthly_positive_rate":0.5,"top5_positive_pnl_share":0.38309,"zero_trade_month_rate":0.132653,"qqq_negative_fold_rate":0.647059,"spy_negative_fold_rate":0.785714,"qqq_p25_test_calmar":-4.338674,"spy_p25_test_calmar":-7.575409,"stress_1.25_avg_monthly_pnl":35.855777,"stress_1.25_max_drawdown":0.107051,"stress_1.50_avg_monthly_pnl":28.77061,"bootstrap_p10_avg_monthly_pnl":15.257696}},"summary_path":"C:\\dev\\Coding\\Trader\\adaptive-systematic-trading\\step3_out\\optimization\\runs\\06_balanced_equal_split_baseline\\backtest\\step3_summary.json","portfolio_snapshot":{"dual_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":14245.881955,"cagr":0.044344,"max_drawdown":0.098139,"calmar":0.451847,"n_days":2980},"qqq_standalone_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":15619.204645,"cagr":0.056195,"max_drawdown":0.091271,"calmar":0.615693,"n_days":2980},"spy_standalone_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":12857.202,"cagr":0.031293,"max_drawdown":0.117846,"calmar":0.265546,"n_days":2980},"allocator":{"selected":"equal_split","holdout_split_index":1788,"holdout_start_utc":"2022-09-25 00:00:00+00:00","holdout_score_static":null,"holdout_score_dynamic":null,"qqq_weight_mean":0.5,"qqq_weight_min":0.5,"qqq_weight_max":0.5,"qqq_weight_turnover_abs":0.0,"spy_weight_mean_pre_guard":0.5,"spy_guard_mean":1.0,"spy_guard_min":1.0,"spy_guard_max":1.0},"avg_monthly_pnl":43.325326,"median_monthly_pnl":1.4513,"avg_monthly_trades":5.918367,"monthly_positive_rate":0.5,"monthly_negative_rate":0.367347,"top5_positive_pnl_share":0.38309,"zero_trade_month_rate":0.132653,"total_trades":580,"aggressive_trade_rate":0.484483,"best_month":{"month_end":"2020-04-30 00:00:00+00:00","pnl":929.932655,"ret":0.08207,"trades":23.0},"worst_month":{"month_end":"2022-10-31 00:00:00+00:00","pnl":-324.783877,"ret":-0.023292,"trades":3.0},"best_day":{"date_utc":"2020-04-07 00:00:00+00:00","pnl":424.243817},"worst_day":{"date_utc":"2022-07-13 00:00:00+00:00","pnl":-354.491},"cost_stress_tests":[{"cost_multiplier":1.25,"dual_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":13513.866156,"cagr":0.037611,"max_drawdown":0.107051,"calmar":0.35134,"n_days":2980},"avg_monthly_pnl":35.855777,"median_monthly_pnl":0.0,"monthly_positive_rate":0.479592},{"cost_multiplier":1.5,"dual_perf":{"start_time_utc":"2017-11-02 00:00:00+00:00","end_time_utc":"2025-12-29 00:00:00+00:00","end_equity":12819.519816,"cagr":0.030922,"max_drawdown":0.116733,"calmar":0.264898,"n_days":2980},"avg_monthly_pnl":28.77061,"median_monthly_pnl":0.0,"monthly_positive_rate":0.469388}],"bootstrap":{"enabled":true,"n_samples":800,"block_months":6,"seed":42,"avg_monthly_pnl":{"p05":7.303569,"p10":15.257696,"p50":44.543938,"p90":73.940195,"p95":81.647752,"mean":44.216203},"median_monthly_pnl":{"p05":0.0,"p10":0.0,"p50":1.4513,"p90":17.914749,"p95":21.473637,"mean":5.332748},"monthly_positive_rate":{"p05":0.408163,"p10":0.428571,"p50":0.5,"p90":0.571429,"p95":0.591837,"mean":0.498316},"end_equity":{"p05":10711.372905,"p10":11407.802607,"p50":14370.437358,"p90":18178.505616,"p95":19217.143683,"mean":14597.220403},"max_drawdown":{"p05":0.019427,"p10":0.020931,"p50":0.063397,"p90":0.102434,"p95":0.12487,"mean":0.061448},"calmar":{"p05":0.082291,"p10":0.179516,"p50":0.75694,"p90":2.76736,"p95":3.464816,"mean":1.199131}}}}]}