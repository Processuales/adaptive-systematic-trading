{"meta":{"script_version":"1.0.0","generated_utc":"2026-02-15T06:47:55.987946+00:00","n_trials_requested":20,"n_trials_valid":14,"n_trials_ml_valid":9,"trade_symbol":"QQQ","symbols":["SPY","QQQ"],"cross_symbol":"SPY","include_cross":true,"split_policy":"80/20 chronological by bar index; train uses label_end_idx < split, test uses t_idx >= split"},"constraints":{"min_trades_train":80,"min_trades_test":25},"best_trial_ml":{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":8,"trend_slow_span":40,"trend_in":1.122121,"pullback_z":0.826224,"trend_regime_min":0.399316,"min_event_spacing_bars":3,"ewma_var_alpha":0.046515,"atr_span":18,"horizon_intra":14,"horizon_overn":8,"tp_mult_intra":2.523192,"sl_mult_intra":1.726995,"tp_mult_overn":2.907515,"sl_mult_overn":1.770091,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":2923,"filtered_events":595,"train_filtered":458,"test_filtered":135},"no_ml":{"train":{"n":191,"y_rate":0.565445,"net_bps_mean":11.852262,"net_bps_med":20.630731,"cum_logret":0.226378,"end_equity":12540.498616,"max_drawdown":0.108427,"cagr":0.029829},"test":{"n":53,"y_rate":0.528302,"net_bps_mean":10.138018,"net_bps_med":4.759403,"cum_logret":0.053731,"end_equity":10552.012381,"max_drawdown":0.080123,"cagr":0.028065},"score":9637.979277},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.569074,"edge_cut":0.002116,"valid":true,"train":{"n":64,"y_rate":0.640625,"net_bps_mean":34.06039,"net_bps_med":49.254012,"cum_logret":0.217986,"end_equity":12435.702716,"max_drawdown":0.033093,"cagr":0.028708},"test":{"n":25,"y_rate":0.6,"net_bps_mean":23.173677,"net_bps_med":49.143182,"cum_logret":0.057934,"end_equity":10596.452614,"max_drawdown":0.023097,"cagr":0.032726},"score":9916.237535},"trial":14},"top_trials_ml":[{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":8,"trend_slow_span":40,"trend_in":1.122121,"pullback_z":0.826224,"trend_regime_min":0.399316,"min_event_spacing_bars":3,"ewma_var_alpha":0.046515,"atr_span":18,"horizon_intra":14,"horizon_overn":8,"tp_mult_intra":2.523192,"sl_mult_intra":1.726995,"tp_mult_overn":2.907515,"sl_mult_overn":1.770091,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":2923,"filtered_events":595,"train_filtered":458,"test_filtered":135},"no_ml":{"train":{"n":191,"y_rate":0.565445,"net_bps_mean":11.852262,"net_bps_med":20.630731,"cum_logret":0.226378,"end_equity":12540.498616,"max_drawdown":0.108427,"cagr":0.029829},"test":{"n":53,"y_rate":0.528302,"net_bps_mean":10.138018,"net_bps_med":4.759403,"cum_logret":0.053731,"end_equity":10552.012381,"max_drawdown":0.080123,"cagr":0.028065},"score":9637.979277},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.569074,"edge_cut":0.002116,"valid":true,"train":{"n":64,"y_rate":0.640625,"net_bps_mean":34.06039,"net_bps_med":49.254012,"cum_logret":0.217986,"end_equity":12435.702716,"max_drawdown":0.033093,"cagr":0.028708},"test":{"n":25,"y_rate":0.6,"net_bps_mean":23.173677,"net_bps_med":49.143182,"cum_logret":0.057934,"end_equity":10596.452614,"max_drawdown":0.023097,"cagr":0.032726},"score":9916.237535},"trial":14},{"filter_name":"no_overnight","knobs":{"trend_fast_span":8,"trend_slow_span":56,"trend_in":0.779159,"pullback_z":1.472738,"trend_regime_min":0.463816,"min_event_spacing_bars":1,"ewma_var_alpha":0.098537,"atr_span":10,"horizon_intra":14,"horizon_overn":14,"tp_mult_intra":2.70049,"sl_mult_intra":1.128114,"tp_mult_overn":2.925683,"sl_mult_overn":1.276433,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10062,"filtered_events":8611,"train_filtered":6914,"test_filtered":1691},"no_ml":{"train":{"n":913,"y_rate":0.41402,"net_bps_mean":0.258891,"net_bps_med":-26.457385,"cum_logret":0.023637,"end_equity":10239.182688,"max_drawdown":0.265528,"cagr":0.002947},"test":{"n":217,"y_rate":0.396313,"net_bps_mean":-4.87345,"net_bps_med":-31.84647,"cum_logret":-0.105754,"end_equity":8996.460552,"max_drawdown":0.162594,"cagr":-0.051808},"score":7328.398739},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.551847,"edge_cut":0.003143,"valid":true,"train":{"n":314,"y_rate":0.44586,"net_bps_mean":6.423145,"net_bps_med":-24.661296,"cum_logret":0.201687,"end_equity":12234.64704,"max_drawdown":0.143212,"cagr":0.025691},"test":{"n":103,"y_rate":0.456311,"net_bps_mean":5.135867,"net_bps_med":-28.050393,"cum_logret":0.052899,"end_equity":10543.236023,"max_drawdown":0.072445,"cagr":0.027507},"score":9727.941263},"trial":1},{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":12,"trend_slow_span":56,"trend_in":0.512047,"pullback_z":1.137992,"trend_regime_min":0.370818,"min_event_spacing_bars":1,"ewma_var_alpha":0.074304,"atr_span":24,"horizon_intra":12,"horizon_overn":10,"tp_mult_intra":1.973766,"sl_mult_intra":1.331569,"tp_mult_overn":2.234102,"sl_mult_overn":1.507134,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10519,"filtered_events":2167,"train_filtered":1702,"test_filtered":464},"no_ml":{"train":{"n":335,"y_rate":0.486567,"net_bps_mean":2.603254,"net_bps_med":-10.078431,"cum_logret":0.087209,"end_equity":10911.247281,"max_drawdown":0.202304,"cagr":0.011105},"test":{"n":91,"y_rate":0.483516,"net_bps_mean":-4.306675,"net_bps_med":-11.249231,"cum_logret":-0.039191,"end_equity":9615.672809,"max_drawdown":0.060348,"cagr":-0.019845},"score":8758.992657},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.560743,"edge_cut":0.001396,"valid":true,"train":{"n":123,"y_rate":0.528455,"net_bps_mean":4.24978,"net_bps_med":28.941899,"cum_logret":0.052272,"end_equity":10536.626071,"max_drawdown":0.134077,"cagr":0.006672},"test":{"n":26,"y_rate":0.653846,"net_bps_mean":36.847697,"net_bps_med":47.141915,"cum_logret":0.095804,"end_equity":11005.433485,"max_drawdown":0.025931,"cagr":0.066323},"score":9416.135615},"trial":13},{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":10,"trend_slow_span":56,"trend_in":0.527552,"pullback_z":1.22888,"trend_regime_min":0.226767,"min_event_spacing_bars":1,"ewma_var_alpha":0.095507,"atr_span":24,"horizon_intra":12,"horizon_overn":10,"tp_mult_intra":2.427282,"sl_mult_intra":1.022804,"tp_mult_overn":2.906561,"sl_mult_overn":1.215725,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10538,"filtered_events":2211,"train_filtered":1761,"test_filtered":449},"no_ml":{"train":{"n":389,"y_rate":0.442159,"net_bps_mean":3.738601,"net_bps_med":-15.155266,"cum_logret":0.145432,"end_equity":11565.38621,"max_drawdown":0.166903,"cagr":0.018589},"test":{"n":93,"y_rate":0.354839,"net_bps_mean":-11.83099,"net_bps_med":-35.359452,"cum_logret":-0.110028,"end_equity":8958.088666,"max_drawdown":0.111555,"cagr":-0.054721},"score":7335.988852},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.55494,"edge_cut":0.003001,"valid":true,"train":{"n":128,"y_rate":0.453125,"net_bps_mean":7.145028,"net_bps_med":-9.694426,"cum_logret":0.091456,"end_equity":10957.689496,"max_drawdown":0.111723,"cagr":0.011706},"test":{"n":25,"y_rate":0.64,"net_bps_mean":48.844471,"net_bps_med":45.654342,"cum_logret":0.122111,"end_equity":11298.797132,"max_drawdown":0.01989,"cagr":0.083985},"score":9406.084306},"trial":12},{"filter_name":"no_overnight_sigma_50_85_trend_decile_4_6","knobs":{"trend_fast_span":8,"trend_slow_span":40,"trend_in":1.105922,"pullback_z":0.876791,"trend_regime_min":0.289646,"min_event_spacing_bars":1,"ewma_var_alpha":0.086644,"atr_span":14,"horizon_intra":16,"horizon_overn":10,"tp_mult_intra":1.801457,"sl_mult_intra":1.013936,"tp_mult_overn":1.916285,"sl_mult_overn":1.066665,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":8568,"filtered_events":507,"train_filtered":397,"test_filtered":110},"no_ml":{"train":{"n":113,"y_rate":0.575221,"net_bps_mean":12.951226,"net_bps_med":29.842565,"cum_logret":0.146349,"end_equity":11575.999537,"max_drawdown":0.049595,"cagr":0.01919},"test":{"n":34,"y_rate":0.441176,"net_bps_mean":12.111731,"net_bps_med":-9.279242,"cum_logret":0.04118,"end_equity":10420.39537,"max_drawdown":0.027421,"cagr":0.023926},"score":10101.075962},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.563106,"edge_cut":0.001529,"valid":true,"train":{"n":53,"y_rate":0.641509,"net_bps_mean":46.407641,"net_bps_med":58.008359,"cum_logret":0.24596,"end_equity":12788.49052,"max_drawdown":0.034706,"cagr":0.032953},"test":{"n":29,"y_rate":0.482759,"net_bps_mean":21.288089,"net_bps_med":-2.332918,"cum_logret":0.061735,"end_equity":10636.8092,"max_drawdown":0.023106,"cagr":0.036039},"score":9386.257877},"trial":18},{"filter_name":"no_overnight_sigma_55_90","knobs":{"trend_fast_span":14,"trend_slow_span":48,"trend_in":1.060515,"pullback_z":0.850276,"trend_regime_min":0.16022,"min_event_spacing_bars":1,"ewma_var_alpha":0.045403,"atr_span":24,"horizon_intra":14,"horizon_overn":12,"tp_mult_intra":1.82578,"sl_mult_intra":1.501045,"tp_mult_overn":1.901937,"sl_mult_overn":1.779573,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":8769,"filtered_events":1531,"train_filtered":1172,"test_filtered":358},"no_ml":{"train":{"n":222,"y_rate":0.481982,"net_bps_mean":-7.980402,"net_bps_med":-10.00283,"cum_logret":-0.177165,"end_equity":8376.416194,"max_drawdown":0.261843,"cagr":-0.02274},"test":{"n":64,"y_rate":0.5625,"net_bps_mean":7.10931,"net_bps_med":30.617642,"cum_logret":0.0455,"end_equity":10465.505665,"max_drawdown":0.069605,"cagr":0.02351},"score":9133.464097},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.565358,"edge_cut":0.00081,"valid":true,"train":{"n":95,"y_rate":0.568421,"net_bps_mean":8.586967,"net_bps_med":43.58695,"cum_logret":0.081576,"end_equity":10849.958789,"max_drawdown":0.093302,"cagr":0.010648},"test":{"n":30,"y_rate":0.5,"net_bps_mean":-0.603353,"net_bps_med":-5.909275,"cum_logret":-0.00181,"end_equity":9981.915773,"max_drawdown":0.037268,"cagr":-0.001078},"score":9242.295095},"trial":8},{"filter_name":"no_overnight_sigma_55_90","knobs":{"trend_fast_span":16,"trend_slow_span":40,"trend_in":0.987668,"pullback_z":1.104425,"trend_regime_min":0.272509,"min_event_spacing_bars":2,"ewma_var_alpha":0.045783,"atr_span":14,"horizon_intra":16,"horizon_overn":8,"tp_mult_intra":1.883309,"sl_mult_intra":1.305957,"tp_mult_overn":2.172918,"sl_mult_overn":1.376666,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":3870,"filtered_events":673,"train_filtered":513,"test_filtered":160},"no_ml":{"train":{"n":180,"y_rate":0.494444,"net_bps_mean":-2.802621,"net_bps_med":-4.223937,"cum_logret":-0.050447,"end_equity":9508.041563,"max_drawdown":0.178609,"cagr":-0.006529},"test":{"n":53,"y_rate":0.584906,"net_bps_mean":15.53324,"net_bps_med":23.298082,"cum_logret":0.082326,"end_equity":10858.099118,"max_drawdown":0.053711,"cagr":0.042952},"score":9541.465472},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.562933,"edge_cut":0.001282,"valid":true,"train":{"n":56,"y_rate":0.660714,"net_bps_mean":26.212084,"net_bps_med":65.475398,"cum_logret":0.146788,"end_equity":11581.08034,"max_drawdown":0.045833,"cagr":0.019242},"test":{"n":27,"y_rate":0.555556,"net_bps_mean":9.202644,"net_bps_med":10.230138,"cum_logret":0.024847,"end_equity":10251.584024,"max_drawdown":0.034961,"cagr":0.015038},"score":9212.799113},"trial":10},{"filter_name":"no_overnight","knobs":{"trend_fast_span":12,"trend_slow_span":64,"trend_in":1.01889,"pullback_z":1.347517,"trend_regime_min":0.344442,"min_event_spacing_bars":1,"ewma_var_alpha":0.075046,"atr_span":18,"horizon_intra":8,"horizon_overn":12,"tp_mult_intra":1.718222,"sl_mult_intra":1.415807,"tp_mult_overn":1.739029,"sl_mult_overn":1.613404,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":9852,"filtered_events":8435,"train_filtered":6790,"test_filtered":1639},"no_ml":{"train":{"n":1098,"y_rate":0.494536,"net_bps_mean":-3.130982,"net_bps_med":-1.492808,"cum_logret":-0.343782,"end_equity":7090.835824,"max_drawdown":0.372233,"cagr":-0.041853},"test":{"n":261,"y_rate":0.494253,"net_bps_mean":-6.207118,"net_bps_med":-3.763344,"cum_logret":-0.162006,"end_equity":8504.362818,"max_drawdown":0.17994,"cagr":-0.078586},"score":6851.043482},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.562291,"edge_cut":0.000579,"valid":true,"train":{"n":348,"y_rate":0.528736,"net_bps_mean":4.9462,"net_bps_med":7.806024,"cum_logret":0.172128,"end_equity":11878.295952,"max_drawdown":0.122065,"cagr":0.021922},"test":{"n":95,"y_rate":0.473684,"net_bps_mean":-6.058233,"net_bps_med":-9.531872,"cum_logret":-0.057553,"end_equity":9440.716546,"max_drawdown":0.072788,"cagr":-0.028936},"score":8313.365535},"trial":11},{"filter_name":"baseline","knobs":{"trend_fast_span":12,"trend_slow_span":64,"trend_in":1.033788,"pullback_z":0.875175,"trend_regime_min":0.360024,"min_event_spacing_bars":1,"ewma_var_alpha":0.049257,"atr_span":10,"horizon_intra":14,"horizon_overn":12,"tp_mult_intra":2.642667,"sl_mult_intra":1.96751,"tp_mult_overn":2.80558,"sl_mult_overn":2.115694,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":9865,"filtered_events":9865,"train_filtered":7943,"test_filtered":1911},"no_ml":{"train":{"n":777,"y_rate":0.521236,"net_bps_mean":0.881974,"net_bps_med":8.64595,"cum_logret":0.068529,"end_equity":10709.321238,"max_drawdown":0.360861,"cagr":0.008568},"test":{"n":186,"y_rate":0.489247,"net_bps_mean":-6.201553,"net_bps_med":-4.368753,"cum_logret":-0.115349,"end_equity":8910.552173,"max_drawdown":0.185591,"cagr":-0.056374},"score":6973.491517},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.56251,"edge_cut":0.001628,"valid":true,"train":{"n":275,"y_rate":0.527273,"net_bps_mean":8.920514,"net_bps_med":10.144053,"cum_logret":0.245314,"end_equity":12780.227323,"max_drawdown":0.182065,"cagr":0.031566},"test":{"n":100,"y_rate":0.51,"net_bps_mean":-4.190539,"net_bps_med":5.203717,"cum_logret":-0.041905,"end_equity":9589.605008,"max_drawdown":0.137542,"cagr":-0.021181},"score":7746.187354},"trial":3}],"top_trials_no_ml":[{"filter_name":"no_overnight_sigma_50_85_trend_decile_4_6","knobs":{"trend_fast_span":8,"trend_slow_span":40,"trend_in":1.105922,"pullback_z":0.876791,"trend_regime_min":0.289646,"min_event_spacing_bars":1,"ewma_var_alpha":0.086644,"atr_span":14,"horizon_intra":16,"horizon_overn":10,"tp_mult_intra":1.801457,"sl_mult_intra":1.013936,"tp_mult_overn":1.916285,"sl_mult_overn":1.066665,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":8568,"filtered_events":507,"train_filtered":397,"test_filtered":110},"no_ml":{"train":{"n":113,"y_rate":0.575221,"net_bps_mean":12.951226,"net_bps_med":29.842565,"cum_logret":0.146349,"end_equity":11575.999537,"max_drawdown":0.049595,"cagr":0.01919},"test":{"n":34,"y_rate":0.441176,"net_bps_mean":12.111731,"net_bps_med":-9.279242,"cum_logret":0.04118,"end_equity":10420.39537,"max_drawdown":0.027421,"cagr":0.023926},"score":10101.075962},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.563106,"edge_cut":0.001529,"valid":true,"train":{"n":53,"y_rate":0.641509,"net_bps_mean":46.407641,"net_bps_med":58.008359,"cum_logret":0.24596,"end_equity":12788.49052,"max_drawdown":0.034706,"cagr":0.032953},"test":{"n":29,"y_rate":0.482759,"net_bps_mean":21.288089,"net_bps_med":-2.332918,"cum_logret":0.061735,"end_equity":10636.8092,"max_drawdown":0.023106,"cagr":0.036039},"score":9386.257877},"trial":18},{"filter_name":"no_overnight_sigma_50_85_trend_decile_4_6","knobs":{"trend_fast_span":8,"trend_slow_span":56,"trend_in":0.541374,"pullback_z":1.155697,"trend_regime_min":0.462418,"min_event_spacing_bars":2,"ewma_var_alpha":0.051987,"atr_span":18,"horizon_intra":16,"horizon_overn":14,"tp_mult_intra":2.60157,"sl_mult_intra":1.738984,"tp_mult_overn":2.667099,"sl_mult_overn":1.788486,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":5292,"filtered_events":319,"train_filtered":232,"test_filtered":86},"no_ml":{"train":{"n":90,"y_rate":0.533333,"net_bps_mean":11.572723,"net_bps_med":7.312196,"cum_logret":0.104155,"end_equity":11097.719141,"max_drawdown":0.059015,"cagr":0.013621},"test":{"n":34,"y_rate":0.558824,"net_bps_mean":24.328111,"net_bps_med":28.651421,"cum_logret":0.082716,"end_equity":10862.328168,"max_drawdown":0.042923,"cagr":0.048346},"score":9885.87082},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.5637,"edge_cut":0.002088,"valid":false,"train":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"test":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"score":-1e+18},"trial":19},{"filter_name":"no_overnight_sigma_50_85_trend_0p3_1p0","knobs":{"trend_fast_span":12,"trend_slow_span":32,"trend_in":0.535898,"pullback_z":1.301563,"trend_regime_min":0.361993,"min_event_spacing_bars":1,"ewma_var_alpha":0.073914,"atr_span":10,"horizon_intra":14,"horizon_overn":12,"tp_mult_intra":2.375011,"sl_mult_intra":1.559207,"tp_mult_overn":2.526986,"sl_mult_overn":1.571534,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":8957,"filtered_events":504,"train_filtered":405,"test_filtered":98},"no_ml":{"train":{"n":135,"y_rate":0.518519,"net_bps_mean":8.911268,"net_bps_med":16.091017,"cum_logret":0.120302,"end_equity":11278.37542,"max_drawdown":0.108526,"cagr":0.015743},"test":{"n":32,"y_rate":0.59375,"net_bps_mean":30.792245,"net_bps_med":52.861016,"cum_logret":0.098535,"end_equity":11035.532321,"max_drawdown":0.046277,"cagr":0.052683},"score":9649.603741},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.560766,"edge_cut":0.002405,"valid":false,"train":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"test":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"score":-1e+18},"trial":6},{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":8,"trend_slow_span":40,"trend_in":1.122121,"pullback_z":0.826224,"trend_regime_min":0.399316,"min_event_spacing_bars":3,"ewma_var_alpha":0.046515,"atr_span":18,"horizon_intra":14,"horizon_overn":8,"tp_mult_intra":2.523192,"sl_mult_intra":1.726995,"tp_mult_overn":2.907515,"sl_mult_overn":1.770091,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":2923,"filtered_events":595,"train_filtered":458,"test_filtered":135},"no_ml":{"train":{"n":191,"y_rate":0.565445,"net_bps_mean":11.852262,"net_bps_med":20.630731,"cum_logret":0.226378,"end_equity":12540.498616,"max_drawdown":0.108427,"cagr":0.029829},"test":{"n":53,"y_rate":0.528302,"net_bps_mean":10.138018,"net_bps_med":4.759403,"cum_logret":0.053731,"end_equity":10552.012381,"max_drawdown":0.080123,"cagr":0.028065},"score":9637.979277},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.569074,"edge_cut":0.002116,"valid":true,"train":{"n":64,"y_rate":0.640625,"net_bps_mean":34.06039,"net_bps_med":49.254012,"cum_logret":0.217986,"end_equity":12435.702716,"max_drawdown":0.033093,"cagr":0.028708},"test":{"n":25,"y_rate":0.6,"net_bps_mean":23.173677,"net_bps_med":49.143182,"cum_logret":0.057934,"end_equity":10596.452614,"max_drawdown":0.023097,"cagr":0.032726},"score":9916.237535},"trial":14},{"filter_name":"no_overnight_sigma_50_85_trend_decile_4_6_tp8","knobs":{"trend_fast_span":12,"trend_slow_span":56,"trend_in":0.547441,"pullback_z":1.128134,"trend_regime_min":0.252109,"min_event_spacing_bars":1,"ewma_var_alpha":0.080189,"atr_span":24,"horizon_intra":12,"horizon_overn":8,"tp_mult_intra":2.580371,"sl_mult_intra":1.312367,"tp_mult_overn":2.996501,"sl_mult_overn":1.634272,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10471,"filtered_events":645,"train_filtered":484,"test_filtered":161},"no_ml":{"train":{"n":127,"y_rate":0.472441,"net_bps_mean":-0.738976,"net_bps_med":-15.44323,"cum_logret":-0.009385,"end_equity":9906.589112,"max_drawdown":0.108142,"cagr":-0.001218},"test":{"n":34,"y_rate":0.5,"net_bps_mean":11.872505,"net_bps_med":-1.889492,"cum_logret":0.040367,"end_equity":10411.923181,"max_drawdown":0.028217,"cagr":0.023125},"score":9613.670591},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.55798,"edge_cut":0.002708,"valid":false,"train":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"test":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"score":-1e+18},"trial":4},{"filter_name":"no_overnight_sigma_55_90","knobs":{"trend_fast_span":16,"trend_slow_span":40,"trend_in":0.987668,"pullback_z":1.104425,"trend_regime_min":0.272509,"min_event_spacing_bars":2,"ewma_var_alpha":0.045783,"atr_span":14,"horizon_intra":16,"horizon_overn":8,"tp_mult_intra":1.883309,"sl_mult_intra":1.305957,"tp_mult_overn":2.172918,"sl_mult_overn":1.376666,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":3870,"filtered_events":673,"train_filtered":513,"test_filtered":160},"no_ml":{"train":{"n":180,"y_rate":0.494444,"net_bps_mean":-2.802621,"net_bps_med":-4.223937,"cum_logret":-0.050447,"end_equity":9508.041563,"max_drawdown":0.178609,"cagr":-0.006529},"test":{"n":53,"y_rate":0.584906,"net_bps_mean":15.53324,"net_bps_med":23.298082,"cum_logret":0.082326,"end_equity":10858.099118,"max_drawdown":0.053711,"cagr":0.042952},"score":9541.465472},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.562933,"edge_cut":0.001282,"valid":true,"train":{"n":56,"y_rate":0.660714,"net_bps_mean":26.212084,"net_bps_med":65.475398,"cum_logret":0.146788,"end_equity":11581.08034,"max_drawdown":0.045833,"cagr":0.019242},"test":{"n":27,"y_rate":0.555556,"net_bps_mean":9.202644,"net_bps_med":10.230138,"cum_logret":0.024847,"end_equity":10251.584024,"max_drawdown":0.034961,"cagr":0.015038},"score":9212.799113},"trial":10},{"filter_name":"no_overnight_sigma_55_90","knobs":{"trend_fast_span":14,"trend_slow_span":48,"trend_in":1.060515,"pullback_z":0.850276,"trend_regime_min":0.16022,"min_event_spacing_bars":1,"ewma_var_alpha":0.045403,"atr_span":24,"horizon_intra":14,"horizon_overn":12,"tp_mult_intra":1.82578,"sl_mult_intra":1.501045,"tp_mult_overn":1.901937,"sl_mult_overn":1.779573,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":8769,"filtered_events":1531,"train_filtered":1172,"test_filtered":358},"no_ml":{"train":{"n":222,"y_rate":0.481982,"net_bps_mean":-7.980402,"net_bps_med":-10.00283,"cum_logret":-0.177165,"end_equity":8376.416194,"max_drawdown":0.261843,"cagr":-0.02274},"test":{"n":64,"y_rate":0.5625,"net_bps_mean":7.10931,"net_bps_med":30.617642,"cum_logret":0.0455,"end_equity":10465.505665,"max_drawdown":0.069605,"cagr":0.02351},"score":9133.464097},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.565358,"edge_cut":0.00081,"valid":true,"train":{"n":95,"y_rate":0.568421,"net_bps_mean":8.586967,"net_bps_med":43.58695,"cum_logret":0.081576,"end_equity":10849.958789,"max_drawdown":0.093302,"cagr":0.010648},"test":{"n":30,"y_rate":0.5,"net_bps_mean":-0.603353,"net_bps_med":-5.909275,"cum_logret":-0.00181,"end_equity":9981.915773,"max_drawdown":0.037268,"cagr":-0.001078},"score":9242.295095},"trial":8},{"filter_name":"no_overnight_sigma_50_85_trend_decile_4_6_tp8","knobs":{"trend_fast_span":12,"trend_slow_span":48,"trend_in":0.735766,"pullback_z":0.971361,"trend_regime_min":0.433627,"min_event_spacing_bars":2,"ewma_var_alpha":0.045259,"atr_span":14,"horizon_intra":10,"horizon_overn":8,"tp_mult_intra":2.946657,"sl_mult_intra":1.908581,"tp_mult_overn":3.29651,"sl_mult_overn":2.014929,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":4868,"filtered_events":280,"train_filtered":208,"test_filtered":72},"no_ml":{"train":{"n":85,"y_rate":0.529412,"net_bps_mean":8.750925,"net_bps_med":18.571069,"cum_logret":0.074383,"end_equity":10772.191575,"max_drawdown":0.060883,"cagr":0.009758},"test":{"n":27,"y_rate":0.592593,"net_bps_mean":-2.087508,"net_bps_med":15.404926,"cum_logret":-0.005636,"end_equity":9943.795823,"max_drawdown":0.069158,"cagr":-0.003227},"score":8822.56555},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.565241,"edge_cut":0.002649,"valid":false,"train":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"test":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"score":-1e+18},"trial":9},{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":12,"trend_slow_span":56,"trend_in":0.512047,"pullback_z":1.137992,"trend_regime_min":0.370818,"min_event_spacing_bars":1,"ewma_var_alpha":0.074304,"atr_span":24,"horizon_intra":12,"horizon_overn":10,"tp_mult_intra":1.973766,"sl_mult_intra":1.331569,"tp_mult_overn":2.234102,"sl_mult_overn":1.507134,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10519,"filtered_events":2167,"train_filtered":1702,"test_filtered":464},"no_ml":{"train":{"n":335,"y_rate":0.486567,"net_bps_mean":2.603254,"net_bps_med":-10.078431,"cum_logret":0.087209,"end_equity":10911.247281,"max_drawdown":0.202304,"cagr":0.011105},"test":{"n":91,"y_rate":0.483516,"net_bps_mean":-4.306675,"net_bps_med":-11.249231,"cum_logret":-0.039191,"end_equity":9615.672809,"max_drawdown":0.060348,"cagr":-0.019845},"score":8758.992657},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.560743,"edge_cut":0.001396,"valid":true,"train":{"n":123,"y_rate":0.528455,"net_bps_mean":4.24978,"net_bps_med":28.941899,"cum_logret":0.052272,"end_equity":10536.626071,"max_drawdown":0.134077,"cagr":0.006672},"test":{"n":26,"y_rate":0.653846,"net_bps_mean":36.847697,"net_bps_med":47.141915,"cum_logret":0.095804,"end_equity":11005.433485,"max_drawdown":0.025931,"cagr":0.066323},"score":9416.135615},"trial":13},{"filter_name":"no_overnight_sigma_50_85_trend_decile_4_6_tp8","knobs":{"trend_fast_span":16,"trend_slow_span":56,"trend_in":1.067071,"pullback_z":1.099073,"trend_regime_min":0.252257,"min_event_spacing_bars":2,"ewma_var_alpha":0.073275,"atr_span":24,"horizon_intra":8,"horizon_overn":14,"tp_mult_intra":2.48433,"sl_mult_intra":1.758088,"tp_mult_overn":2.661593,"sl_mult_overn":2.146367,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":4648,"filtered_events":260,"train_filtered":194,"test_filtered":66},"no_ml":{"train":{"n":94,"y_rate":0.531915,"net_bps_mean":5.559413,"net_bps_med":6.608171,"cum_logret":0.052258,"end_equity":10536.480523,"max_drawdown":0.0678,"cagr":0.006845},"test":{"n":26,"y_rate":0.461538,"net_bps_mean":-17.89983,"net_bps_med":-30.858381,"cum_logret":-0.04654,"end_equity":9545.268006,"max_drawdown":0.053569,"cagr":-0.029222},"score":8095.570089},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.563886,"edge_cut":0.001829,"valid":false,"train":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"test":{"n":0,"y_rate":null,"net_bps_mean":null,"net_bps_med":null,"cum_logret":null,"end_equity":10000.0,"max_drawdown":null,"cagr":null},"score":-1e+18},"trial":2},{"filter_name":"no_overnight_sigma_50_85","knobs":{"trend_fast_span":10,"trend_slow_span":56,"trend_in":0.527552,"pullback_z":1.22888,"trend_regime_min":0.226767,"min_event_spacing_bars":1,"ewma_var_alpha":0.095507,"atr_span":24,"horizon_intra":12,"horizon_overn":10,"tp_mult_intra":2.427282,"sl_mult_intra":1.022804,"tp_mult_overn":2.906561,"sl_mult_overn":1.215725,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10538,"filtered_events":2211,"train_filtered":1761,"test_filtered":449},"no_ml":{"train":{"n":389,"y_rate":0.442159,"net_bps_mean":3.738601,"net_bps_med":-15.155266,"cum_logret":0.145432,"end_equity":11565.38621,"max_drawdown":0.166903,"cagr":0.018589},"test":{"n":93,"y_rate":0.354839,"net_bps_mean":-11.83099,"net_bps_med":-35.359452,"cum_logret":-0.110028,"end_equity":8958.088666,"max_drawdown":0.111555,"cagr":-0.054721},"score":7335.988852},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.55494,"edge_cut":0.003001,"valid":true,"train":{"n":128,"y_rate":0.453125,"net_bps_mean":7.145028,"net_bps_med":-9.694426,"cum_logret":0.091456,"end_equity":10957.689496,"max_drawdown":0.111723,"cagr":0.011706},"test":{"n":25,"y_rate":0.64,"net_bps_mean":48.844471,"net_bps_med":45.654342,"cum_logret":0.122111,"end_equity":11298.797132,"max_drawdown":0.01989,"cagr":0.083985},"score":9406.084306},"trial":12},{"filter_name":"no_overnight","knobs":{"trend_fast_span":8,"trend_slow_span":56,"trend_in":0.779159,"pullback_z":1.472738,"trend_regime_min":0.463816,"min_event_spacing_bars":1,"ewma_var_alpha":0.098537,"atr_span":10,"horizon_intra":14,"horizon_overn":14,"tp_mult_intra":2.70049,"sl_mult_intra":1.128114,"tp_mult_overn":2.925683,"sl_mult_overn":1.276433,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":10062,"filtered_events":8611,"train_filtered":6914,"test_filtered":1691},"no_ml":{"train":{"n":913,"y_rate":0.41402,"net_bps_mean":0.258891,"net_bps_med":-26.457385,"cum_logret":0.023637,"end_equity":10239.182688,"max_drawdown":0.265528,"cagr":0.002947},"test":{"n":217,"y_rate":0.396313,"net_bps_mean":-4.87345,"net_bps_med":-31.84647,"cum_logret":-0.105754,"end_equity":8996.460552,"max_drawdown":0.162594,"cagr":-0.051808},"score":7328.398739},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.551847,"edge_cut":0.003143,"valid":true,"train":{"n":314,"y_rate":0.44586,"net_bps_mean":6.423145,"net_bps_med":-24.661296,"cum_logret":0.201687,"end_equity":12234.64704,"max_drawdown":0.143212,"cagr":0.025691},"test":{"n":103,"y_rate":0.456311,"net_bps_mean":5.135867,"net_bps_med":-28.050393,"cum_logret":0.052899,"end_equity":10543.236023,"max_drawdown":0.072445,"cagr":0.027507},"score":9727.941263},"trial":1},{"filter_name":"baseline","knobs":{"trend_fast_span":12,"trend_slow_span":64,"trend_in":1.033788,"pullback_z":0.875175,"trend_regime_min":0.360024,"min_event_spacing_bars":1,"ewma_var_alpha":0.049257,"atr_span":10,"horizon_intra":14,"horizon_overn":12,"tp_mult_intra":2.642667,"sl_mult_intra":1.96751,"tp_mult_overn":2.80558,"sl_mult_overn":2.115694,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":9865,"filtered_events":9865,"train_filtered":7943,"test_filtered":1911},"no_ml":{"train":{"n":777,"y_rate":0.521236,"net_bps_mean":0.881974,"net_bps_med":8.64595,"cum_logret":0.068529,"end_equity":10709.321238,"max_drawdown":0.360861,"cagr":0.008568},"test":{"n":186,"y_rate":0.489247,"net_bps_mean":-6.201553,"net_bps_med":-4.368753,"cum_logret":-0.115349,"end_equity":8910.552173,"max_drawdown":0.185591,"cagr":-0.056374},"score":6973.491517},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.56251,"edge_cut":0.001628,"valid":true,"train":{"n":275,"y_rate":0.527273,"net_bps_mean":8.920514,"net_bps_med":10.144053,"cum_logret":0.245314,"end_equity":12780.227323,"max_drawdown":0.182065,"cagr":0.031566},"test":{"n":100,"y_rate":0.51,"net_bps_mean":-4.190539,"net_bps_med":5.203717,"cum_logret":-0.041905,"end_equity":9589.605008,"max_drawdown":0.137542,"cagr":-0.021181},"score":7746.187354},"trial":3},{"filter_name":"no_overnight","knobs":{"trend_fast_span":12,"trend_slow_span":64,"trend_in":1.01889,"pullback_z":1.347517,"trend_regime_min":0.344442,"min_event_spacing_bars":1,"ewma_var_alpha":0.075046,"atr_span":18,"horizon_intra":8,"horizon_overn":12,"tp_mult_intra":1.718222,"sl_mult_intra":1.415807,"tp_mult_overn":1.739029,"sl_mult_overn":1.613404,"same_bar_policy":"worst","spread_half_bps":{"SPY":0.8,"QQQ":1.2,"SMH":1.8},"slip_base_bps":0.8,"slip_vol_mult":0.05,"slip_spike_add_bps":2.0,"vol_spike_q":0.9,"overnight_slip_add_bps":1.5,"commission_round_trip_bps":1.0,"gap_lookback_events":120,"gap_tail_k":2.0,"sigma_rank_window":500,"atr_rank_window":500,"rank_min_periods":200,"intraday_tail_window":200,"intraday_tail_min_periods":50,"intraday_tail_z":2.0,"include_cross_asset":true,"cross_symbol":"SPY","cross_merge_tolerance":"30min","dropna_core_only":true},"n_bars":17626,"split_bar_idx":14100,"split_time_utc":"2024-02-06 19:00:00+00:00","base_counts":{"all_events":9852,"filtered_events":8435,"train_filtered":6790,"test_filtered":1639},"no_ml":{"train":{"n":1098,"y_rate":0.494536,"net_bps_mean":-3.130982,"net_bps_med":-1.492808,"cum_logret":-0.343782,"end_equity":7090.835824,"max_drawdown":0.372233,"cagr":-0.041853},"test":{"n":261,"y_rate":0.494253,"net_bps_mean":-6.207118,"net_bps_med":-3.763344,"cum_logret":-0.162006,"end_equity":8504.362818,"max_drawdown":0.17994,"cagr":-0.078586},"score":6851.043482},"ml_sim":{"model_features":["trend_score","pullback_z","sigma","u_atr","sigma_prank","u_atr_prank","gap_sd","gap_tail","vol_z","dist_to_hi","range_ratio","tp_to_cost","ret_spread","beta_proxy","entry_overnight"],"p_cut":0.562291,"edge_cut":0.000579,"valid":true,"train":{"n":348,"y_rate":0.528736,"net_bps_mean":4.9462,"net_bps_med":7.806024,"cum_logret":0.172128,"end_equity":11878.295952,"max_drawdown":0.122065,"cagr":0.021922},"test":{"n":95,"y_rate":0.473684,"net_bps_mean":-6.058233,"net_bps_med":-9.531872,"cum_logret":-0.057553,"end_equity":9440.716546,"max_drawdown":0.072788,"cagr":-0.028936},"score":8313.365535},"trial":11}],"artifacts":{"best_equity_plot":"C:\\dev\\Coding\\Trading Bot\\adaptive-systematic-trading\\step2_out\\selection\\qqq_cross_on\\best_equity_compare.png"},"notes":{"ml_simulation":"Ridge linear model on train set only; probability shrink + conservative edge gate.","overfit_controls":"Chronological split, minimum trade counts, risk-adjusted score, no test-time tuning."}}